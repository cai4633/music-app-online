{"version":3,"sources":["webpack:///./src/views/rank/rank.vue?f90d","webpack:///./src/views/rank/rank.vue?ff93","webpack:///./src/views/rank/rank.vue","webpack:///./src/views/rank/rank.vue?a6b5","webpack:///./src/views/rank/rank.vue?3803","webpack:///./src/api/rank.ts"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","attrs","lists","_l","list","key","id","on","$event","selectItem","directives","name","rawName","value","expression","imgLoad","song","songIndex","songname","_v","_s","singername","length","staticRenderFns","_getRank","$refs","rank","refresh","item","setToplist","$router","push","path","BOTTOM","playlist","$el","style","bottom","$nextTick","then","response","code","data","topList","components","Scroll","Loading","component","getRank","url","params","Object","assign","format","g_tk","Date","opt","Promise","resolve","getSongsByTopid","topid","tpl","page","type"],"mappings":"kHAAA,W,gECAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACE,IAAI,OAAOC,YAAY,OAAOC,MAAM,CAAC,KAAOR,EAAIS,QAAQ,CAACL,EAAG,MAAM,CAACG,YAAY,cAAc,CAACH,EAAG,KAAK,CAACG,YAAY,iBAAiBP,EAAIU,GAAIV,EAAS,OAAE,SAASW,GAAM,OAAOP,EAAG,KAAK,CAACQ,IAAID,EAAKE,GAAGC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAIgB,WAAWL,MAAS,CAACP,EAAG,MAAM,CAACG,YAAY,WAAW,CAACH,EAAG,MAAM,CAACa,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOT,EAAW,OAAEU,WAAW,gBAAgBb,MAAM,CAAC,MAAQ,OAAOM,GAAG,CAAC,KAAOd,EAAIsB,aAAalB,EAAG,KAAK,CAACG,YAAY,YAAYP,EAAIU,GAAIC,EAAa,UAAE,SAASY,EAAKC,GAAW,OAAOpB,EAAG,KAAK,CAACQ,IAAIW,EAAKE,UAAU,CAACrB,EAAG,OAAO,CAACJ,EAAI0B,GAAG1B,EAAI2B,GAAGH,EAAY,MAAMpB,EAAG,OAAO,CAACG,YAAY,OAAO,CAACP,EAAI0B,GAAG1B,EAAI2B,GAAGJ,EAAKE,UAAU,MAAMzB,EAAI2B,GAAGJ,EAAKK,oBAAmB,QAAO,GAAGxB,EAAG,MAAM,CAACa,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,OAAQpB,EAAIS,MAAMoB,OAAQR,WAAW,kBAAkBd,YAAY,gBAAgB,CAACH,EAAG,YAAY,KAAKA,EAAG,aAAa,CAACI,MAAM,CAAC,KAAO,aAAa,CAACJ,EAAG,gBAAgB,IAAI,IAC1gC0B,EAAkB,G,gJCoCD,EAArB,yG,0BACC,EAAArB,MAAoB,GADrB,2DAUER,KAAK8B,aAVP,gCAaE9B,KAAK+B,MAAMC,KAAKC,YAblB,iCAeYC,GACVlC,KAAKmC,WAAWD,GAChBlC,KAAKoC,QAAQC,KAAK,CAAEC,KAAM,SAAF,OAAWJ,EAAKtB,QAjB1C,uCAoBE,IAAM2B,EAASvC,KAAKwC,SAASZ,OAAS,GAAK,EACvC5B,KAAK+B,MAAMC,OACdhC,KAAK+B,MAAMC,KAAKS,IAAIC,MAAMC,OAA1B,UAAsCJ,EAAtC,MACAvC,KAAK+B,MAAMC,KAAKC,aAvBnB,iCA0BS,WACPjC,KAAK4C,WAAU,WACd,OAAO,iBAAUC,MAAK,SAACC,GAClBA,EAASC,OAAS,SACrB,EAAKvC,MAAQsC,EAASE,KAAKC,mBA9BhC,GAAkC,eAAO,SAMpB,gBAAnB,eAAO,a,+BACiB,gBAAxB,eAAS,gB,iCAPU,EAAI,gBAHxB,eAAU,CACVC,WAAY,CAAEC,OAAA,OAAQC,QAAA,WAEF,WCrC4X,I,wBCQ7YC,EAAY,eACd,EACAvD,EACA+B,GACA,EACA,KACA,WACA,MAIa,aAAAwB,E,uJChBT,SAAUC,IACd,IAAMC,EAAM,qDACNC,EAASC,OAAOC,OAAO,GAAI,OAAc,CAC7CC,OAAQ,QACRC,MAAO,IAAIC,OAEPC,EAAML,OAAOC,OAAO,GAAI,OAAS,CAAEzC,KAAM,WAC/C,OAAO,eAAOsC,EAAKC,EAAQM,GAAKjB,MAAK,SAACC,GACpC,OAAOiB,QAAQC,QAAQlB,MAIrB,SAAUmB,EAAgBrD,GAC9B,IAAM2C,EAAM,sDACNC,EAASC,OAAOC,OAAO,GAAI,OAAc,CAC7CC,OAAQ,QACRC,MAAO,IAAIC,KACXK,MAAOtD,EACPuD,IAAK,EACLC,KAAM,SACNC,KAAM,QAEFP,EAAML,OAAOC,OAAO,GAAI,OAAS,CAAEzC,KAAM,UAE/C,OAAO,eAAOsC,EAAKC,EAAQM,GAAKjB,MAAK,SAACC,GACpC,OAAOiB,QAAQC,QAAQlB","file":"static/js/chunk-d9c2f606.bc299e9f.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rank.vue?vue&type=style&index=0&id=7604e49e&lang=stylus&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('scroll',{ref:\"rank\",staticClass:\"rank\",attrs:{\"data\":_vm.lists}},[_c('div',{staticClass:\"rank-inner\"},[_c('ul',{staticClass:\"content-inner\"},_vm._l((_vm.lists),function(list){return _c('li',{key:list.id,on:{\"click\":function($event){return _vm.selectItem(list)}}},[_c('div',{staticClass:\"topIcon\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(list.picUrl),expression:\"list.picUrl\"}],attrs:{\"width\":\"100\"},on:{\"load\":_vm.imgLoad}})]),_c('ul',{staticClass:\"songlist\"},_vm._l((list.songList),function(song,songIndex){return _c('li',{key:song.songname},[_c('span',[_vm._v(_vm._s(songIndex + 1))]),_c('span',{staticClass:\"txt\"},[_vm._v(_vm._s(song.songname)+\" - \"+_vm._s(song.singername))])])}),0)])}),0),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.lists.length),expression:\"!lists.length\"}],staticClass:\"loading-wrap\"},[_c('loading')],1)]),_c('transition',{attrs:{\"name\":\"slide-in\"}},[_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Prop, Vue, Watch, Mixins } from \"vue-property-decorator\";\r\nimport { PlaylistMixin } from \"@/common/js/mixins\";\r\nimport { MutationMethod, mapGetters } from \"vuex\";\r\nimport Scroll from \"base/scroll/scroll.vue\";\r\nimport { getRank } from \"api/rank.ts\";\r\nimport { ERR_OK } from \"api/config\";\r\nimport { Mutation, Getter } from \"vuex-class\";\r\nimport Loading from \"base/loading/loading.vue\";\r\n\r\n@Component({\r\n\tcomponents: { Scroll, Loading },\r\n})\r\nexport default class Rank extends Mixins(PlaylistMixin) {\r\n\tlists: RankItem[] = [];\r\n\t$refs!: {\r\n\t\trank: Scroll;\r\n\t};\r\n\r\n\t@Getter(\"playlist\") playlist!: any[];\r\n\t@Mutation(\"SET_TOPLIST\") setToplist!: MutationMethod;\r\n\r\n\tmounted() {\r\n\t\tthis._getRank();\r\n\t}\r\n\timgLoad() {\r\n\t\tthis.$refs.rank.refresh();\r\n\t}\r\n\tselectItem(item: RankItem) {\r\n\t\tthis.setToplist(item);\r\n\t\tthis.$router.push({ path: `/rank/${item.id}` });\r\n\t}\r\n\thandlePlaylist() {\r\n\t\tconst BOTTOM = this.playlist.length ? 60 : 0;\r\n\t\tif (this.$refs.rank) {\r\n\t\t\tthis.$refs.rank.$el.style.bottom = `${BOTTOM}px`;\r\n\t\t\tthis.$refs.rank.refresh();\r\n\t\t}\r\n\t}\r\n\t_getRank() {\r\n\t\tthis.$nextTick(() => {\r\n\t\t\treturn getRank().then((response: MyResponse) => {\r\n\t\t\t\tif (response.code === ERR_OK) {\r\n\t\t\t\t\tthis.lists = response.data.topList;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rank.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rank.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./rank.vue?vue&type=template&id=7604e49e&scoped=true&\"\nimport script from \"./rank.vue?vue&type=script&lang=ts&\"\nexport * from \"./rank.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./rank.vue?vue&type=style&index=0&id=7604e49e&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7604e49e\",\n  null\n  \n)\n\nexport default component.exports","import axios from \"axios\";\r\nimport { xhrOptions, jsonpOptions, options } from \"./config\";\r\nimport jsonp0 from \"../common/js/jsonp\";\r\nexport function getRank() {\r\n  const url = \"https://c.y.qq.com/v8/fcg-bin/fcg_myqq_toplist.fcg\";\r\n  const params = Object.assign({}, jsonpOptions, {\r\n    format: \"jsonp\",\r\n    g_tk: +new Date()\r\n  });\r\n  const opt = Object.assign({}, options, { name: \"jsonp1\" });\r\n  return jsonp0(url, params, opt).then((response: any) => {\r\n    return Promise.resolve(response);\r\n  });\r\n}\r\n\r\nexport function getSongsByTopid(id: number) {\r\n  const url = \"https://c.y.qq.com/v8/fcg-bin/fcg_v8_toplist_cp.fcg\";\r\n  const params = Object.assign({}, jsonpOptions, {\r\n    format: \"jsonp\",\r\n    g_tk: +new Date(),\r\n    topid: id,\r\n    tpl: 3,\r\n    page: \"detail\",\r\n    type: \"top\"\r\n  });\r\n  const opt = Object.assign({}, options, { name: \"__jp2\" });\r\n\r\n  return jsonp0(url, params, opt).then((response: any) => {\r\n    return Promise.resolve(response);\r\n  });\r\n}\r\n"],"sourceRoot":""}