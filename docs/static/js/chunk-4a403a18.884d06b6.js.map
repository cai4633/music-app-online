{"version":3,"sources":["webpack:///./src/views/user-center/user-center.vue?194b","webpack:///./src/views/user-center/user-center.vue?a2da","webpack:///./src/views/user-center/user-center.vue","webpack:///./src/views/user-center/user-center.vue?d5ec","webpack:///./src/views/user-center/user-center.vue?1309"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","on","$event","stopPropagation","back","switches","tabIndex","tabSwitch","random","_v","ref","key","favorite","favoriteToPlay","_e","playHistory","historyToPlay","directives","name","rawName","value","noResult","expression","noResultText","staticRenderFns","BOTTOM","playlist","length","$refs","content","style","bottom","scrollFresh","list","newlist","map","song","randomPlay","suggestToPlay","index","playing","$router","refresh","history","concat","components","Switches","GoBack","SongList","Scroll","IconSvg","NoResult","component"],"mappings":"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","file":"static/js/chunk-4a403a18.884d06b6.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user-center.vue?vue&type=style&index=0&id=5260ee26&lang=stylus&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide-in\"}},[_c('div',{staticClass:\"user-center\"},[_c('div',{staticClass:\"back\",on:{\"click\":function($event){$event.stopPropagation();return _vm.back($event)}}},[_c('go-back')],1),_c('div',{staticClass:\"switches-wrap\"},[_c('switches',{attrs:{\"switches\":_vm.switches,\"currentIndex\":_vm.tabIndex},on:{\"select\":_vm.tabSwitch}})],1),_c('div',{staticClass:\"playbtn\",on:{\"click\":_vm.random}},[_c('icon-svg',{attrs:{\"icon\":\"#el-icon-play1\"}}),_c('span',[_vm._v(\"随机播放全部\")])],1),_c('div',{ref:\"content\",staticClass:\"content\"},[(_vm.tabIndex === 0)?_c('scroll',{key:\"favorite\",ref:\"favorite\",staticClass:\"favorite-wrap\",attrs:{\"data\":_vm.favorite}},[_c('div',{staticClass:\"list-inner\"},[_c('song-list',{attrs:{\"songs\":_vm.favorite},on:{\"select\":_vm.favoriteToPlay}})],1)]):_vm._e(),(_vm.tabIndex === 1)?_c('scroll',{key:\"history\",ref:\"history\",staticClass:\"playhistory\",attrs:{\"data\":_vm.playHistory}},[_c('div',{staticClass:\"list-inner\"},[_c('song-list',{attrs:{\"songs\":_vm.playHistory},on:{\"select\":_vm.historyToPlay}})],1)]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.noResult()),expression:\"noResult()\"}],staticClass:\"no-result-wrap\"},[_c('no-result',{attrs:{\"text\":_vm.noResultText()}})],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Prop, Vue, Watch, Mixins } from \"vue-property-decorator\";\r\nimport Switches from \"base/switches/switches.vue\";\r\nimport GoBack from \"base/go-back/go-back.vue\";\r\nimport SongList from \"base/song-list/song-list.vue\";\r\nimport { Getter, Action } from \"vuex-class\";\r\nimport { ActionMethod } from \"vuex\";\r\nimport Song from \"common/js/song\";\r\nimport Scroll from \"base/scroll/scroll.vue\";\r\nimport { PlaylistMixin } from \"common/js/mixins\";\r\nimport IconSvg from \"base/icon-svg/icon-svg.vue\";\r\nimport NoResult from \"base/no-result/no-result.vue\";\r\nimport HistoryList from \"../../base/history-list/history-list.vue\";\r\n\r\n@Component({\r\n\tcomponents: { Switches, GoBack, SongList, Scroll, IconSvg, NoResult },\r\n})\r\nexport default class UserCenter extends Mixins(PlaylistMixin) {\r\n\tswitches: string[] = [\"我的喜欢\", \"最近收听\"];\r\n\ttabIndex = 0;\r\n\t$refs!: {\r\n\t\tfavorite: Scroll;\r\n\t\thistory: Scroll;\r\n\t\tcontent: HTMLElement;\r\n\t};\r\n\r\n\t@Getter(\"playHistory\") playHistory!: Songs[];\r\n\t@Getter(\"playing\") playing!: boolean;\r\n\t@Getter(\"favorite\") favorite!: Songs[];\r\n\t@Action(\"insertSong\") insertSong!: ActionMethod;\r\n\t@Action(\"suggestToPlay\") suggestToPlay!: ActionMethod;\r\n\t@Action(\"randomPlay\") randomPlay!: ActionMethod;\r\n\r\n\tget list() {\r\n\t\treturn this.playHistory.concat(this.favorite);\r\n\t}\r\n\r\n\thandlePlaylist() {\r\n\t\tconst BOTTOM = this.playlist.length ? 60 : 0;\r\n\t\tif (this.$refs.content) {\r\n\t\t\tthis.$refs.content.style.bottom = `${BOTTOM}px`;\r\n\t\t\tthis.scrollFresh();\r\n\t\t}\r\n\t}\r\n\trandom() {\r\n\t\tconst list = this.tabIndex === 0 ? this.favorite : this.playHistory;\r\n\t\tif (!list.length) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst newlist = list.map((song) => new Song(song));\r\n\t\tthis.randomPlay(newlist);\r\n\t}\r\n\tfavoriteToPlay(song: Songs) {\r\n\t\tthis.suggestToPlay(new Song(song));\r\n\t}\r\n\thistoryToPlay(song: Songs, index: number) {\r\n\t\tif (index === 0 && this.playing) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.suggestToPlay(new Song(song)); //song丢失了原型方法，重新构造后生成\r\n\t}\r\n\tback() {\r\n\t\tthis.$router.back();\r\n\t}\r\n\tnoResult() {\r\n\t\treturn this.tabIndex ? !this.playHistory.length : !this.favorite.length;\r\n\t}\r\n\tnoResultText() {\r\n\t\treturn this.tabIndex ? \"暂无最近收听歌曲\" : \"暂无收藏歌曲\";\r\n\t}\r\n\ttabSwitch(index: number) {\r\n\t\tthis.tabIndex = index;\r\n\t}\r\n\tscrollFresh() {\r\n\t\tthis.$refs.favorite ? this.$refs.favorite.refresh(0) : this.$refs.history.refresh(0);\r\n\t}\r\n\r\n\t@Watch(\"tabIndex\")\r\n\ttabIndexChange() {\r\n\t\tthis.scrollFresh();\r\n\t}\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user-center.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user-center.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./user-center.vue?vue&type=template&id=5260ee26&scoped=true&\"\nimport script from \"./user-center.vue?vue&type=script&lang=ts&\"\nexport * from \"./user-center.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./user-center.vue?vue&type=style&index=0&id=5260ee26&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5260ee26\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}