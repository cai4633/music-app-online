{"version":3,"sources":["webpack:///./src/views/user-center/user-center.vue?70c1","webpack:///./src/views/user-center/user-center.vue?62e9","webpack:///./src/views/user-center/user-center.vue","webpack:///./src/views/user-center/user-center.vue?d5ec","webpack:///./src/views/user-center/user-center.vue?1309"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","on","$event","stopPropagation","back","switches","tabIndex","tabSwitch","random","_v","ref","key","favorite","favoriteToPlay","_e","playHistory","historyToPlay","directives","name","rawName","value","noResult","expression","noResultText","staticRenderFns","BOTTOM","playlist","length","$refs","content","style","bottom","scrollFresh","list","newlist","map","song","randomPlay","suggestToPlay","index","playing","$router","refresh","history","concat","components","Switches","GoBack","SongList","Scroll","IconSvg","NoResult","component"],"mappings":"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","file":"static/js/chunk-116d886f.eccff070.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user-center.vue?vue&type=style&index=0&id=99fb518e&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user-center.vue?vue&type=style&index=0&id=99fb518e&lang=stylus&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"user-slider\"}},[_c('div',{staticClass:\"user-center\"},[_c('div',{staticClass:\"back\",on:{\"click\":function($event){$event.stopPropagation();return _vm.back($event)}}},[_c('go-back')],1),_c('div',{staticClass:\"switches-wrap\"},[_c('switches',{attrs:{\"switches\":_vm.switches,\"currentIndex\":_vm.tabIndex},on:{\"select\":_vm.tabSwitch}})],1),_c('div',{staticClass:\"playbtn\",on:{\"click\":_vm.random}},[_c('icon-svg',{attrs:{\"icon\":\"#el-icon-play1\"}}),_c('span',[_vm._v(\"随机播放全部\")])],1),_c('div',{ref:\"content\",staticClass:\"content\"},[(_vm.tabIndex === 0)?_c('scroll',{key:\"favorite\",ref:\"favorite\",staticClass:\"favorite-wrap\",attrs:{\"data\":_vm.favorite}},[_c('div',{staticClass:\"list-inner\"},[_c('song-list',{attrs:{\"songs\":_vm.favorite},on:{\"select\":_vm.favoriteToPlay}})],1)]):_vm._e(),(_vm.tabIndex === 1)?_c('scroll',{key:\"history\",ref:\"history\",staticClass:\"playhistory\",attrs:{\"data\":_vm.playHistory}},[_c('div',{staticClass:\"list-inner\"},[_c('song-list',{attrs:{\"songs\":_vm.playHistory},on:{\"select\":_vm.historyToPlay}})],1)]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.noResult()),expression:\"noResult()\"}],staticClass:\"no-result-wrap\"},[_c('no-result',{attrs:{\"text\":_vm.noResultText()}})],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Prop, Vue, Watch, Mixins } from \"vue-property-decorator\"\r\nimport Switches from \"base/switches/switches.vue\"\r\nimport GoBack from \"base/go-back/go-back.vue\"\r\nimport SongList from \"base/song-list/song-list.vue\"\r\nimport { Songs } from \"common/js/config\"\r\nimport { Getter, Action } from \"vuex-class\"\r\nimport { ActionMethod } from \"vuex\"\r\nimport Song from \"common/js/song\"\r\nimport Scroll from \"base/scroll/scroll.vue\"\r\nimport { PlaylistMixin } from \"common/js/mixins\"\r\nimport IconSvg from \"base/icon-svg/icon-svg.vue\"\r\nimport NoResult from \"base/no-result/no-result.vue\"\r\nimport HistoryList from \"../../base/history-list/history-list.vue\"\r\n\r\n@Component({\r\n  components: { Switches, GoBack, SongList, Scroll, IconSvg, NoResult },\r\n})\r\nexport default class UserCenter extends Mixins(PlaylistMixin) {\r\n  switches: string[] = [\"我的喜欢\", \"最近收听\"]\r\n  tabIndex = 0\r\n  $refs!: {\r\n    favorite: Scroll\r\n    history: Scroll\r\n    content: HTMLElement\r\n  }\r\n\r\n  @Getter(\"playHistory\") playHistory!: Songs[]\r\n  @Getter(\"playing\") playing!: boolean\r\n  @Getter(\"favorite\") favorite!: Songs[]\r\n  @Action(\"insertSong\") insertSong!: ActionMethod\r\n  @Action(\"suggestToPlay\") suggestToPlay!: ActionMethod\r\n  @Action(\"randomPlay\") randomPlay!: ActionMethod\r\n\r\n  get list() {\r\n    return this.playHistory.concat(this.favorite)\r\n  }\r\n\r\n  handlePlaylist() {\r\n    const BOTTOM = this.playlist.length ? 60 : 0\r\n    if (this.$refs.content) {\r\n      this.$refs.content.style.bottom = `${BOTTOM}px`\r\n      this.scrollFresh()\r\n    }\r\n  }\r\n  random() {\r\n    const list = this.tabIndex === 0 ? this.favorite : this.playHistory\r\n    if (!list.length) {\r\n      return\r\n    }\r\n    const newlist = list.map((song) => new Song(song))\r\n    this.randomPlay(newlist)\r\n  }\r\n  favoriteToPlay(song: Songs) {\r\n    this.suggestToPlay(new Song(song))\r\n  }\r\n  historyToPlay(song: Songs, index: number) {\r\n    if (index === 0 && this.playing) {\r\n      return\r\n    }\r\n    this.suggestToPlay(new Song(song)) //song丢失了原型方法，重新构造后生成\r\n  }\r\n  back() {\r\n    this.$router.back()\r\n  }\r\n  noResult() {\r\n    return this.tabIndex ? !this.playHistory.length : !this.favorite.length\r\n  }\r\n  noResultText() {\r\n    return this.tabIndex ? \"暂无最近收听歌曲\" : \"暂无收藏歌曲\"\r\n  }\r\n  tabSwitch(index: number) {\r\n    this.tabIndex = index\r\n  }\r\n  scrollFresh() {\r\n    this.$refs.favorite ? this.$refs.favorite.refresh(0) : this.$refs.history.refresh(0)\r\n  }\r\n\r\n  @Watch(\"tabIndex\")\r\n  tabIndexChange() {\r\n    this.scrollFresh()\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user-center.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user-center.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./user-center.vue?vue&type=template&id=99fb518e&scoped=true&\"\nimport script from \"./user-center.vue?vue&type=script&lang=ts&\"\nexport * from \"./user-center.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./user-center.vue?vue&type=style&index=0&id=99fb518e&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"99fb518e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}